<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index.html :: dynamic(~{::main})}"> <!--  thay toàn bộ nd trong tag main vào dynamic(main) ở bên layout/index -->
<body>
	<main>
		<!-- Start Title -->
    <div class="container-fluid pt-3 pb-1" style="background-color: rgb(233, 238, 245) !important;">
        <div class="text-center">
            <h1 class="h2 text-dark fw-bold">Kiểm tra thông tin nhận hàng và thanh toán của bạn !</h1>
        </div>
    </div>
	<!-- Close Title -->
	
	<!-- Start CheckInfo Page -->
	<form class="m-auto col-6 shadow p-4 my-4" name="formcheckout">
		<div class="alert alert-info py-3" role="alert">
			Enter And Check Payment Information - Nhập Và Kiểm Tra Thông Tin Thanh Toán
		</div>
		<hr>
		<div class="YourDeliveryAddress">
			<h3 class="fw-bold">Thông tin nhận hàng</h3>
		</div>
		<div class="FormDeliveryAddress">
			<div class="form-group mb-3">
				<label>Username:</label>
				<input id="username" th:value="${#request.remoteUser}" type="text" class="form-control" readonly/> <!-- USERNAME ĐỂ TRUYỀN QUA BÊN SHOPPING-CART-APP -->
			</div>
			<div class="form-group mb-3">
				<label>OrderDate:</label> 
				<input value="{{order.createDate | date: 'dd/MM/yyyy'}}" name="createdate" class="form-control" readonly>
			</div>
			<div class="form-group mb-3">
				<label>Phone Number *:</label>
				<input type="text" name="phonenumber" class="form-control" placeholder="Phone Number ? (Required)" ng-model="order.phonenumber" minlength="7" maxlength="11" required>
			</div>
			<div class="form-group mb-3">
				<label>Address *:</label> 
				<input type="text" name="address" class="form-control" placeholder="Address ? (Required)" ng-model="order.address" required>
			</div>
		</div>
		<hr>
		<div class="YourOrder">
			<h3 class="fw-bold">Your Order</h3>
		</div>
		<div class="FormOrder border p-4">
			<div class="row"> <!-- DIV ROW START -->
				<div class="col-8 pe-0">
					<label class="fw-bold" style="display:block">Quantity x Product Name</label>
					<hr>
					<div ng-repeat="item in cart.items">
						<small style="overflow: hidden; text-overflow: ellipsis; -webkit-line-clamp: 1; display: -webkit-box; -webkit-box-orient: vertical;"><b>{{item.qty}} x</b> {{item.product_name}}</small> <!-- Tên SP x Số Lượng -->
						<hr>
					</div>
					<label class="text-primary fw-bold" style="display:block">Total Price All Products</label>
				</div>
				<div class="col-4 ps-0">
					<label class="fw-bold" style="display:block">Total Price/Product</label>
					<hr>
					<div ng-repeat="item in cart.items"> <!-- Tổng tiền từng item -->
						<small style="display:block">{{item.product_price * item.qty | number}}<sup>VNĐ</sup></small>
						<hr>
					</div>
					<label class="text-primary fw-bold" style="display:block">{{cart.amount | number}}<sup>VNĐ</sup></label> <!-- Tổng tiền -->
				</div>
			</div> <!-- DIV ROW END -->
		</div>
		<button ng-click="order.dh()" class="btn btn-warning py-2 mt-2 fw-bold shadow" style="width:100%; text-shadow: 0 0 3px white;" ng-disabled="formcheckout.phonenumber.$invalid || formcheckout.address.$pristine">ORDER - ĐẶT HÀNG</button>
	</form>
	<!-- Close CheckInfo Page -->
	</main>
</body>
</html>